{"ast":null,"code":"import React,{useEffect}from'react';import{SVG}from'@svgdotjs/svg.js';import{useNavigate}from'react-router-dom';// useNavigate로 수정\nimport{useAudio}from'./AudioContext';// 컨텍스트 가져오기\nimport styles from'./Setting.module.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Setting(_ref){let{show,onClose}=_ref;const navigate=useNavigate();const{isMuted,toggleMute}=useAudio();// 음소거 상태와 토글 함수 가져오기\nuseEffect(()=>{if(!show)return;const slideToggle=document.getElementById(\"slide-toggle-control\");if(!slideToggle)return;const slide={element:slideToggle,handler:svgSlideEffect,offset:10,duration:200,random:false};const slideEffect=new SvgToggleEffect(slide);return()=>{slideEffect.cleanup();};},[show]);if(!show){return null;}const handleLogout=()=>{localStorage.removeItem('accessToken');// JWT 토큰 제거\nnavigate('/');// 초기 화면으로 이동\n};return/*#__PURE__*/_jsx(\"div\",{className:styles.modalOverlay,onClick:onClose,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.modalContent,onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"h2\",{className:styles.header,children:\"Setting\"}),/*#__PURE__*/_jsxs(\"div\",{className:styles.inputContainer,children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"slide-toggle-control\",checked:isMuted,onChange:toggleMute// 체크박스 상태 변경 시 음소거 토글\n}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"slide-toggle-control\",className:styles.controlLabel,children:[/*#__PURE__*/_jsx(\"svg\",{width:\"84\",height:\"36\",children:/*#__PURE__*/_jsx(\"rect\",{x:\"0\",y:\"0\",width:\"84\",height:\"36\"})}),/*#__PURE__*/_jsx(\"span\",{className:styles.labelText,children:\"BGM\"}),\" \"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,children:\"Logout\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,children:\"Close\"})]})});}class SvgToggleEffect{constructor(effect){this.node=SVG(effect.element.nextElementSibling.querySelector('svg'));this.listener=()=>{if(effect.element.checked){effect.handler([this.node],false,effect.duration,effect.offset);}else{effect.handler([this.node],true,effect.duration,effect.offset);}};effect.element.addEventListener(\"change\",this.listener);}cleanup(){this.node.node.removeEventListener(\"change\",this.listener);}}const svgSlideEffect=function(){let nodes=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let reverse=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;let duration=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;let offset=arguments.length>3&&arguments[3]!==undefined?arguments[3]:10;nodes.forEach((node,index)=>{setTimeout(()=>{if(reverse){node.animate({duration:duration}).transform({x:0});}else{node.animate({duration:duration}).transform({x:48});}},index*offset);});};export default Setting;","map":{"version":3,"names":["React","useEffect","SVG","useNavigate","useAudio","styles","jsx","_jsx","jsxs","_jsxs","Setting","_ref","show","onClose","navigate","isMuted","toggleMute","slideToggle","document","getElementById","slide","element","handler","svgSlideEffect","offset","duration","random","slideEffect","SvgToggleEffect","cleanup","handleLogout","localStorage","removeItem","className","modalOverlay","onClick","children","modalContent","e","stopPropagation","header","inputContainer","type","id","checked","onChange","htmlFor","controlLabel","width","height","x","y","labelText","constructor","effect","node","nextElementSibling","querySelector","listener","addEventListener","removeEventListener","nodes","arguments","length","undefined","reverse","forEach","index","setTimeout","animate","transform"],"sources":["C:/Users/USER/Documents/GitHub/NETRUNNER/src/pages/mainPages/Setting.jsx"],"sourcesContent":["import React, { useEffect } from 'react';\r\nimport { SVG } from '@svgdotjs/svg.js';\r\nimport { useNavigate } from 'react-router-dom'; // useNavigate로 수정\r\nimport { useAudio } from './AudioContext'; // 컨텍스트 가져오기\r\nimport styles from './Setting.module.css';\r\n\r\nfunction Setting({ show, onClose }) {\r\n  const navigate = useNavigate();\r\n  const { isMuted, toggleMute } = useAudio(); // 음소거 상태와 토글 함수 가져오기\r\n\r\n  useEffect(() => {\r\n    if (!show) return;\r\n\r\n    const slideToggle = document.getElementById(\"slide-toggle-control\");\r\n\r\n    if (!slideToggle) return;\r\n\r\n    const slide = {\r\n      element: slideToggle,\r\n      handler: svgSlideEffect,\r\n      offset: 10,\r\n      duration: 200,\r\n      random: false,\r\n    };\r\n\r\n    const slideEffect = new SvgToggleEffect(slide);\r\n\r\n    return () => {\r\n      slideEffect.cleanup();\r\n    };\r\n  }, [show]);\r\n\r\n  if (!show) {\r\n    return null;\r\n  }\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('accessToken'); // JWT 토큰 제거\r\n    navigate('/'); // 초기 화면으로 이동\r\n  };\r\n\r\n  return (\r\n    <div className={styles.modalOverlay} onClick={onClose}>\r\n      <div className={styles.modalContent} onClick={(e) => e.stopPropagation()}>\r\n        <h2 className={styles.header}>Setting</h2>\r\n        <div className={styles.inputContainer}>\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"slide-toggle-control\"\r\n            checked={isMuted}\r\n            onChange={toggleMute} // 체크박스 상태 변경 시 음소거 토글\r\n          />\r\n          <label htmlFor=\"slide-toggle-control\" className={styles.controlLabel}>\r\n            <svg width=\"84\" height=\"36\">\r\n              <rect x=\"0\" y=\"0\" width=\"84\" height=\"36\" />\r\n            </svg>\r\n            <span className={styles.labelText}>BGM</span> {/* BGM 텍스트 추가 */}\r\n          </label>\r\n        </div>\r\n        <button onClick={handleLogout}>Logout</button>\r\n        <button onClick={onClose}>Close</button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nclass SvgToggleEffect {\r\n  constructor(effect) {\r\n    this.node = SVG(effect.element.nextElementSibling.querySelector('svg'));\r\n\r\n    this.listener = () => {\r\n      if (effect.element.checked) {\r\n        effect.handler([this.node], false, effect.duration, effect.offset);\r\n      } else {\r\n        effect.handler([this.node], true, effect.duration, effect.offset);\r\n      }\r\n    };\r\n\r\n    effect.element.addEventListener(\"change\", this.listener);\r\n  }\r\n\r\n  cleanup() {\r\n    this.node.node.removeEventListener(\"change\", this.listener);\r\n  }\r\n}\r\n\r\nconst svgSlideEffect = (nodes = [], reverse = false, duration = 100, offset = 10) => {\r\n  nodes.forEach((node, index) => {\r\n    setTimeout(() => {\r\n      if (reverse) {\r\n        node.animate({ duration: duration }).transform({ x: 0 });\r\n      } else {\r\n        node.animate({ duration: duration }).transform({ x: 48 });\r\n      }\r\n    }, index * offset);\r\n  });\r\n};\r\n\r\nexport default Setting;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}