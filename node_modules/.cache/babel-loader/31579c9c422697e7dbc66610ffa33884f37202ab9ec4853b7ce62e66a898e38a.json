{"ast":null,"code":"import'./App.css';import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import LoginPage from'./pages/loginPages/LoginPage';import MainPage from'./pages/mainPages/MainPage';import{AudioProvider}from'./pages/mainPages/AudioContext';import BackgroundMusic from'./components/BackgroundMusic';import bgm from'./assets/mainbgm.mp3';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RequireAuth=_ref=>{let{children}=_ref;const token=localStorage.getItem('accessToken');if(!token){// 로그인 페이지 대신 첫페이지로 리다이렉션\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};function App(){useEffect(()=>{const handleBeforeUnload=()=>{localStorage.removeItem('accessToken');};window.addEventListener('beforeunload',handleBeforeUnload);return()=>{window.removeEventListener('beforeunload',handleBeforeUnload);};},[]);// 창 닫을 시 로그아웃\nreturn/*#__PURE__*/_jsx(AudioProvider,{children:/*#__PURE__*/_jsxs(Router,{children:[/*#__PURE__*/_jsx(BackgroundMusic,{src:bgm}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/main\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(MainPage,{})})})]})]})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","LoginPage","MainPage","AudioProvider","BackgroundMusic","bgm","jsx","_jsx","jsxs","_jsxs","RequireAuth","_ref","children","token","localStorage","getItem","to","replace","App","handleBeforeUnload","removeItem","window","addEventListener","removeEventListener","src","path","element"],"sources":["C:/Users/USER/Documents/GitHub/NETRUNNER/src/App.js"],"sourcesContent":["import './App.css';\r\nimport React, { useEffect } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\r\nimport LoginPage from './pages/loginPages/LoginPage';\r\nimport MainPage from './pages/mainPages/MainPage';\r\nimport { AudioProvider } from './pages/mainPages/AudioContext';\r\nimport BackgroundMusic from './components/BackgroundMusic';\r\nimport bgm from './assets/mainbgm.mp3';\r\n\r\nconst RequireAuth = ({ children }) => {\r\n  const token = localStorage.getItem('accessToken');\r\n\r\n  if (!token) {\r\n    // 로그인 페이지 대신 첫페이지로 리다이렉션\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nfunction App() {\r\n\r\n  useEffect(() => {\r\n    const handleBeforeUnload = () => {\r\n      localStorage.removeItem('accessToken');\r\n    };\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  }, []); // 창 닫을 시 로그아웃\r\n\r\n  return (\r\n    <AudioProvider>\r\n      <Router>\r\n        <BackgroundMusic src={bgm} />\r\n        <Routes>\r\n          <Route path=\"/\" element={<LoginPage />} />\r\n          <Route path=\"/main\" element={\r\n            <RequireAuth>\r\n              <MainPage />\r\n            </RequireAuth>\r\n          } />\r\n        </Routes>\r\n      </Router>\r\n    </AudioProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,WAAW,CAClB,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CACnF,MAAO,CAAAC,SAAS,KAAM,8BAA8B,CACpD,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,OAASC,aAAa,KAAQ,gCAAgC,CAC9D,MAAO,CAAAC,eAAe,KAAM,8BAA8B,CAC1D,MAAO,CAAAC,GAAG,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEvC,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAAAE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAEjD,GAAI,CAACF,KAAK,CAAE,CACV;AACA,mBAAON,IAAA,CAACP,QAAQ,EAACgB,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAC,CACpC,CAEA,MAAO,CAAAL,QAAQ,CACjB,CAAC,CAED,QAAS,CAAAM,GAAGA,CAAA,CAAG,CAEbvB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAwB,kBAAkB,CAAGA,CAAA,GAAM,CAC/BL,YAAY,CAACM,UAAU,CAAC,aAAa,CAAC,CACxC,CAAC,CACDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAEH,kBAAkB,CAAC,CAC3D,MAAO,IAAM,CACXE,MAAM,CAACE,mBAAmB,CAAC,cAAc,CAAEJ,kBAAkB,CAAC,CAChE,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAAE;AAER,mBACEZ,IAAA,CAACJ,aAAa,EAAAS,QAAA,cACZH,KAAA,CAACZ,MAAM,EAAAe,QAAA,eACLL,IAAA,CAACH,eAAe,EAACoB,GAAG,CAAEnB,GAAI,CAAE,CAAC,cAC7BI,KAAA,CAACX,MAAM,EAAAc,QAAA,eACLL,IAAA,CAACR,KAAK,EAAC0B,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEnB,IAAA,CAACN,SAAS,GAAE,CAAE,CAAE,CAAC,cAC1CM,IAAA,CAACR,KAAK,EAAC0B,IAAI,CAAC,OAAO,CAACC,OAAO,cACzBnB,IAAA,CAACG,WAAW,EAAAE,QAAA,cACVL,IAAA,CAACL,QAAQ,GAAE,CAAC,CACD,CACd,CAAE,CAAC,EACE,CAAC,EACH,CAAC,CACI,CAAC,CAEpB,CAEA,cAAe,CAAAgB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}