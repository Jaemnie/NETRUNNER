{"ast":null,"code":"import'./App.css';import React,{useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import LoginPage from'./pages/loginPages/LoginPage';import MainPage from'./pages/mainPages/MainPage';import AuthService from'./services/AuthService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RequireAuth=_ref=>{let{children}=_ref;const token=localStorage.getItem('accessToken');if(!token){// 로그인 페이지 대신 첫페이지로 리다이렉션\nreturn/*#__PURE__*/_jsx(Navigate,{to:\"/\",replace:true});}return children;};function App(){useEffect(()=>{const handleBeforeUnload=e=>{localStorage.removeItem('accessToken');};window.addEventListener('beforeunload',handleBeforeUnload);return()=>{window.removeEventListener('beforeunload',handleBeforeUnload);};},[]);//창닫을시 로그아웃\nreturn/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/main\",element:/*#__PURE__*/_jsx(RequireAuth,{children:/*#__PURE__*/_jsx(MainPage,{})})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","LoginPage","MainPage","AuthService","jsx","_jsx","jsxs","_jsxs","RequireAuth","_ref","children","token","localStorage","getItem","to","replace","App","handleBeforeUnload","e","removeItem","window","addEventListener","removeEventListener","path","element"],"sources":["C:/Users/USER/Documents/GitHub/NETRUNNER/src/App.js"],"sourcesContent":["\r\nimport './App.css';\r\n\r\nimport React, {useEffect} from 'react';\r\nimport { BrowserRouter as Router, Routes, Route,Navigate } from 'react-router-dom';\r\nimport LoginPage from './pages/loginPages/LoginPage';\r\nimport MainPage from './pages/mainPages/MainPage';\r\nimport AuthService from './services/AuthService';\r\n\r\nconst RequireAuth = ({ children }) => {\r\n  const token = localStorage.getItem('accessToken');\r\n\r\n  if (!token) {\r\n    // 로그인 페이지 대신 첫페이지로 리다이렉션\r\n    return <Navigate to=\"/\" replace />;\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\n\r\nfunction App() {\r\n\r\n  useEffect(()=>{\r\n    const handleBeforeUnload=(e)=>{\r\n      localStorage.removeItem('accessToken');\r\n    };\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n    };\r\n  },[]); //창닫을시 로그아웃\r\n\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={<LoginPage />} />\r\n        <Route path=\"/main\" element={\r\n          <RequireAuth>\r\n            <MainPage />\r\n          </RequireAuth>\r\n          } />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AACA,MAAO,WAAW,CAElB,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,OAASC,aAAa,GAAI,CAAAC,MAAM,CAAEC,MAAM,CAAEC,KAAK,CAACC,QAAQ,KAAQ,kBAAkB,CAClF,MAAO,CAAAC,SAAS,KAAM,8BAA8B,CACpD,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,WAAW,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjD,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAkB,IAAjB,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAC/B,KAAM,CAAAE,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAEjD,GAAI,CAACF,KAAK,CAAE,CACV;AACA,mBAAON,IAAA,CAACL,QAAQ,EAACc,EAAE,CAAC,GAAG,CAACC,OAAO,MAAE,CAAC,CACpC,CAEA,MAAO,CAAAL,QAAQ,CACjB,CAAC,CAGD,QAAS,CAAAM,GAAGA,CAAA,CAAG,CAEbrB,SAAS,CAAC,IAAI,CACZ,KAAM,CAAAsB,kBAAkB,CAAEC,CAAC,EAAG,CAC5BN,YAAY,CAACO,UAAU,CAAC,aAAa,CAAC,CACxC,CAAC,CACDC,MAAM,CAACC,gBAAgB,CAAC,cAAc,CAAEJ,kBAAkB,CAAC,CAC3D,MAAO,IAAM,CACXG,MAAM,CAACE,mBAAmB,CAAC,cAAc,CAAEL,kBAAkB,CAAC,CAChE,CAAC,CACH,CAAC,CAAC,EAAE,CAAC,CAAE;AAEP,mBACEZ,IAAA,CAACR,MAAM,EAAAa,QAAA,cACLH,KAAA,CAACT,MAAM,EAAAY,QAAA,eACLL,IAAA,CAACN,KAAK,EAACwB,IAAI,CAAC,GAAG,CAACC,OAAO,cAAEnB,IAAA,CAACJ,SAAS,GAAE,CAAE,CAAE,CAAC,cAC1CI,IAAA,CAACN,KAAK,EAACwB,IAAI,CAAC,OAAO,CAACC,OAAO,cACzBnB,IAAA,CAACG,WAAW,EAAAE,QAAA,cACVL,IAAA,CAACH,QAAQ,GAAE,CAAC,CACD,CACZ,CAAE,CAAC,EACA,CAAC,CACH,CAAC,CAEb,CAEA,cAAe,CAAAc,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}