{"ast":null,"code":"import React,{useState,useEffect}from'react';import classNames from'classnames';import styles from'./MainPage.module.css';import TermPage from'../../components/termPage';import Quest from'../../components/quest';import Shop from'../../components/shop';import BackgroundMusic from'../../components/BackgroundMusic';import Modal from'../../pages/mainPages/esc';// Modal 컴포넌트 임포트\nimport bgm from'../../assets/mainbgm.mp3';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const MenuContent={terminer:/*#__PURE__*/_jsx(TermPage,{}),quest:null,shop:null};function MainPage(){const[clickPositions,setClickPositions]=useState([]);const[showAnimation,setShowAnimation]=useState(true);const[showSplitScreen,setShowSplitScreen]=useState(false);const[missionData,setMissionData]=useState(null);const[userId,setUserId]=useState('');const[currentMenu,setCurrentMenu]=useState('terminer');const[showModal,setShowModal]=useState(false);const handleClick=event=>{const{pageX:x,pageY:y}=event;setClickPositions(prevPositions=>[...prevPositions,{x,y}]);setTimeout(()=>{setClickPositions(currentPositions=>currentPositions.slice(1));},200);};const handleKeyDown=event=>{if(event.key==='Escape'){setShowModal(true);}};useEffect(()=>{const timer=setTimeout(()=>{setShowAnimation(false);setShowSplitScreen(true);setTimeout(()=>{setShowSplitScreen(false);},1000);},3000);const fetchMissionData=async()=>{try{const response=await fetch('http://netrunner.life:4000/missions');const data=await response.json();setMissionData(data.mission);}catch(error){console.error('Error fetching mission data:',error);}};fetchMissionData();setUserId('testuser');window.addEventListener('keydown',handleKeyDown);return()=>{clearTimeout(timer);window.removeEventListener('keydown',handleKeyDown);};},[]);const handleMenuClick=menuKey=>{setCurrentMenu(menuKey);};const closeModal=()=>{setShowModal(false);};return/*#__PURE__*/_jsxs(\"div\",{className:styles.mainContainer,children:[/*#__PURE__*/_jsx(BackgroundMusic,{src:bgm}),\" \",/*#__PURE__*/_jsx(Modal,{show:showModal,onClose:closeModal}),\" \",showAnimation&&/*#__PURE__*/_jsx(\"div\",{className:styles.ringContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.ring,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.innerRing}),/*#__PURE__*/_jsx(\"span\",{className:styles.span})]})}),showSplitScreen&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:styles.splitScreenLeft}),/*#__PURE__*/_jsx(\"div\",{className:styles.splitScreenRight})]}),!showAnimation&&!showSplitScreen&&/*#__PURE__*/_jsxs(\"main\",{className:styles.main,onClick:handleClick,children:[/*#__PURE__*/_jsxs(\"nav\",{className:styles.mainMenu,children:[/*#__PURE__*/_jsx(\"h1\",{children:\"NETRUNNER\"}),/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{className:classNames(styles.navItem,{[styles.active]:currentMenu==='terminer'}),children:[/*#__PURE__*/_jsx(\"b\",{}),/*#__PURE__*/_jsx(\"b\",{}),/*#__PURE__*/_jsxs(\"a\",{href:\"#\",onClick:()=>handleMenuClick('terminer'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-house \".concat(styles.navIcon)}),/*#__PURE__*/_jsx(\"span\",{className:styles.navText,children:\"\\uD130\\uBBF8\\uB110\"})]})]}),/*#__PURE__*/_jsxs(\"li\",{className:classNames(styles.navItem,{[styles.active]:currentMenu==='quest'}),children:[/*#__PURE__*/_jsx(\"b\",{}),/*#__PURE__*/_jsx(\"b\",{}),/*#__PURE__*/_jsxs(\"a\",{href:\"#\",onClick:()=>handleMenuClick('quest'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-calendar-check \".concat(styles.navIcon)}),/*#__PURE__*/_jsx(\"span\",{className:styles.navText,children:\"\\uD018\\uC2A4\\uD2B8\"})]})]}),/*#__PURE__*/_jsxs(\"li\",{className:classNames(styles.navItem,{[styles.active]:currentMenu==='shop'}),children:[/*#__PURE__*/_jsx(\"b\",{}),/*#__PURE__*/_jsx(\"b\",{}),/*#__PURE__*/_jsxs(\"a\",{href:\"#\",onClick:()=>handleMenuClick('shop'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-person-running \".concat(styles.navIcon)}),/*#__PURE__*/_jsx(\"span\",{className:styles.navText,children:\"\\uC0C1\\uC810\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:styles.content,children:[currentMenu==='quest'&&missionData?/*#__PURE__*/_jsx(Quest,{missionData:missionData}):null,currentMenu==='shop'&&userId?/*#__PURE__*/_jsx(Shop,{userId:userId}):null,currentMenu!=='quest'&&currentMenu!=='shop'?MenuContent[currentMenu]:null]})]})]});}export default MainPage;","map":{"version":3,"names":["React","useState","useEffect","classNames","styles","TermPage","Quest","Shop","BackgroundMusic","Modal","bgm","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MenuContent","terminer","quest","shop","MainPage","clickPositions","setClickPositions","showAnimation","setShowAnimation","showSplitScreen","setShowSplitScreen","missionData","setMissionData","userId","setUserId","currentMenu","setCurrentMenu","showModal","setShowModal","handleClick","event","pageX","x","pageY","y","prevPositions","setTimeout","currentPositions","slice","handleKeyDown","key","timer","fetchMissionData","response","fetch","data","json","mission","error","console","window","addEventListener","clearTimeout","removeEventListener","handleMenuClick","menuKey","closeModal","className","mainContainer","children","src","show","onClose","ringContainer","ring","innerRing","span","splitScreenLeft","splitScreenRight","main","onClick","mainMenu","navItem","active","href","concat","navIcon","navText","content"],"sources":["/Users/jeon-aseob/Desktop/NETRUNNER/src/pages/mainPages/MainPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport classNames from 'classnames';\nimport styles from './MainPage.module.css';\nimport TermPage from '../../components/termPage';\nimport Quest from '../../components/quest';\nimport Shop from '../../components/shop';\nimport BackgroundMusic from '../../components/BackgroundMusic';\nimport Modal from '../../pages/mainPages/esc'; // Modal 컴포넌트 임포트\nimport bgm from '../../assets/mainbgm.mp3';\n\nconst MenuContent = {\n  terminer: <TermPage />,\n  quest: null,\n  shop: null\n};\n\nfunction MainPage() {\n  const [clickPositions, setClickPositions] = useState([]);\n  const [showAnimation, setShowAnimation] = useState(true);\n  const [showSplitScreen, setShowSplitScreen] = useState(false);\n  const [missionData, setMissionData] = useState(null);\n  const [userId, setUserId] = useState('');\n  const [currentMenu, setCurrentMenu] = useState('terminer');\n  const [showModal, setShowModal] = useState(false);\n\n  const handleClick = (event) => {\n    const { pageX: x, pageY: y } = event;\n    setClickPositions((prevPositions) => [...prevPositions, { x, y }]);\n    setTimeout(() => {\n      setClickPositions((currentPositions) => currentPositions.slice(1));\n    }, 200);\n  };\n\n  const handleKeyDown = (event) => {\n    if (event.key === 'Escape') {\n      setShowModal(true);\n    }\n  };\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setShowAnimation(false);\n      setShowSplitScreen(true);\n      setTimeout(() => {\n        setShowSplitScreen(false);\n      }, 1000);\n    }, 3000);\n\n    const fetchMissionData = async () => {\n      try {\n        const response = await fetch('http://netrunner.life:4000/missions');\n        const data = await response.json();\n        setMissionData(data.mission);\n      } catch (error) {\n        console.error('Error fetching mission data:', error);\n      }\n    };\n\n    fetchMissionData();\n    setUserId('testuser');\n\n    window.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      clearTimeout(timer);\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  }, []);\n\n  const handleMenuClick = (menuKey) => {\n    setCurrentMenu(menuKey);\n  };\n\n  const closeModal = () => {\n    setShowModal(false);\n  };\n\n  return (\n    <div className={styles.mainContainer}>\n      <BackgroundMusic src={bgm} /> {/* BackgroundMusic 컴포넌트 추가 */}\n      <Modal show={showModal} onClose={closeModal} /> {/* Modal 컴포넌트 추가 */}\n      {showAnimation && (\n        <div className={styles.ringContainer}>\n          <div className={styles.ring}>\n            <div className={styles.innerRing}></div>\n            <span className={styles.span}></span>\n          </div>\n        </div>\n      )}\n      {showSplitScreen && (\n        <>\n          <div className={styles.splitScreenLeft}></div>\n          <div className={styles.splitScreenRight}></div>\n        </>\n      )}\n      {!showAnimation && !showSplitScreen && (\n        <main className={styles.main} onClick={handleClick}>\n          <nav className={styles.mainMenu}>\n            <h1>NETRUNNER</h1>\n            <ul>\n              <li className={classNames(styles.navItem, { [styles.active]: currentMenu === 'terminer' })}>\n                <b></b>\n                <b></b>\n                <a href=\"#\" onClick={() => handleMenuClick('terminer')}>\n                  <i className={`fa fa-house ${styles.navIcon}`}></i>\n                  <span className={styles.navText}>터미널</span>\n                </a>\n              </li>\n              <li className={classNames(styles.navItem, { [styles.active]: currentMenu === 'quest' })}>\n                <b></b>\n                <b></b>\n                <a href=\"#\" onClick={() => handleMenuClick('quest')}>\n                  <i className={`fa fa-calendar-check ${styles.navIcon}`}></i>\n                  <span className={styles.navText}>퀘스트</span>\n                </a>\n              </li>\n              <li className={classNames(styles.navItem, { [styles.active]: currentMenu === 'shop' })}>\n                <b></b>\n                <b></b>\n                <a href=\"#\" onClick={() => handleMenuClick('shop')}>\n                  <i className={`fa fa-person-running ${styles.navIcon}`}></i>\n                  <span className={styles.navText}>상점</span>\n                </a>\n              </li>\n            </ul>\n          </nav>\n          <section className={styles.content}>\n            {currentMenu === 'quest' && missionData ? <Quest missionData={missionData} /> : null}\n            {currentMenu === 'shop' && userId ? <Shop userId={userId} /> : null}\n            {currentMenu !== 'quest' && currentMenu !== 'shop' ? MenuContent[currentMenu] : null}\n          </section>\n        </main>\n      )}\n    </div>\n  );\n}\n\nexport default MainPage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}